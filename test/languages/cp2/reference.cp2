// an example of cp2

typeclass integer;

rule commutative( function )
	= function( a, b )
		== function( b, a );
		
/*
rule distributive_over< other >( function )
	= function( other( integer operands... ) )
*/

integer int8 = byte;
integer int16 = byte[ 2 ];
integer int32 = byte[ 4 ];
integer int64 = byte[ 8 ];

commutative integer operator + ( a, b )
	= add( a, b );

integer operator - ( a, b ) = subtract( a, b );

commutative integer operator * ( a, b ) = multiply( a, b );

entrypoint int ()
{
	return 1;
}
